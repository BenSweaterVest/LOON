# Wrangler configuration for local development
# Documentation: https://developers.cloudflare.com/workers/wrangler/configuration/

name = "loon"
compatibility_date = "2026-01-01"

# Cloudflare Pages configuration
pages_build_output_dir = "."

# Local development settings
[dev]
port = 8788
local_protocol = "http"

# Environment variables for local development
# Copy .env.example to .env.local and fill in your values
# Wrangler will automatically load .env.local

# Development commands:
#   Local development (no KV):
#     npm run dev
#
#   Local development (with KV testing):
#     npm run dev:kv
#
#   This starts a server at http://localhost:8788
#   API endpoints available at http://localhost:8788/api/*

# KV Namespace Configuration
# 
# For LOCAL development (optional):
# Uncomment the section below to test with KV locally
# 
# [[kv_namespaces]]
# binding = "LOON_DB"
# id = "your-kv-namespace-id"           # Get from Cloudflare dashboard
# preview_id = "your-preview-id"       # Optional: separate preview namespace
#
# Then run: npm run dev:kv
#
# For PRODUCTION:
# Configure in Cloudflare Pages dashboard:
#   Settings > Functions > KV Namespace Bindings
#   Binding Name: LOON_DB
#   KV Namespace: Select your production namespace
#
# For more details, see:
#   - OPERATIONS.md (Environment Setup section)
#   - CONTRIBUTING.md (Local Development with KV section)
