# LOON Environment Variables
# Copy this file to .env.local for local development with Wrangler
# In production, set these in Cloudflare Pages > Settings > Environment Variables

# =============================================================================
# REQUIRED
# =============================================================================

# GitHub repository in "owner/repo" format
GITHUB_REPO=your-username/loon

# GitHub Personal Access Token (fine-grained)
# Required permissions: Contents (read/write) for this repository only
# Generate at: https://github.com/settings/tokens?type=beta
GITHUB_TOKEN=github_pat_xxxxxxxxxxxxxxxxxxxx

# One-time initial setup token (required for first admin creation via /admin.html)
# Use a long random value and store as a secret in Cloudflare Pages.
# After first admin is created, rotate or remove this value.
SETUP_TOKEN=replace-with-strong-random-token

# =============================================================================
# OPTIONAL: CORS CONFIGURATION
# =============================================================================
# Restrict API access to a specific domain (recommended for production)
# If not set, defaults to '*' (allow all origins)
# CORS_ORIGIN=https://your-domain.pages.dev

# =============================================================================
# OPTIONAL: WEBAUTHN/PASSKEY CONFIGURATION
# =============================================================================
# Configure relying party identity for passkey authentication
# If not set, defaults are extracted from request URL
#
# RP_ID: Domain for passkey scope (must match or be parent of origin)
# RP_ORIGIN: Full origin URL for WebAuthn (protocol + domain + port)
#
# Examples:
#   Production: RP_ID=your-domain.pages.dev, RP_ORIGIN=https://your-domain.pages.dev
#   Custom domain: RP_ID=example.com, RP_ORIGIN=https://example.com
#   Local dev: RP_ID=localhost, RP_ORIGIN=http://localhost:8788
#
# RP_ID=your-domain.pages.dev
# RP_ORIGIN=https://your-domain.pages.dev

# =============================================================================
# KV DATABASE (User Storage)
# =============================================================================
# All users are stored in Cloudflare KV (no environment variable passwords).
# 
# Setup Steps:
#   1. Create namespace "LOON_DB" and bind it to your Pages project
#      (or configure [[kv_namespaces]] in wrangler.local.toml / wrangler.toml)
#   2. Set SETUP_TOKEN in Cloudflare Pages environment variables
#   3. Open /admin.html and complete Initial Setup form
#
# See README.md "Create Your First Admin User" section for detailed instructions

# =============================================================================
# CLOUDFLARE IMAGES (Media Management)
# =============================================================================
# For image uploads via /api/upload endpoint
#
# Setup Steps:
#   1. Enable Cloudflare Images in your account (free tier: 100k images)
#   2. Get Account ID from Cloudflare Dashboard > Account Settings
#   3. Create API Token with "Cloudflare Images:Edit" permission
#   4. Set these environment variables in Cloudflare Pages Settings
#
# CLOUDFLARE ACCOUNT ID
CF_ACCOUNT_ID=your-cloudflare-account-id

# API TOKEN with "Cloudflare Images:Edit" permission
# Generate at: https://dash.cloudflare.com/profile/api-tokens
CF_IMAGES_TOKEN=your-api-token-with-images-edit-permission
